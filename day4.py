#!/usr/bin/env python3
# https://adventofcode.com/2025/day/4


def can_move_roll(plan, x, y):
    adjacent = 0
    for delta in [(0, 1), (0, -1), (1, 0), (-1, 0), (1, 1), (-1, -1), (1, -1), (-1, 1)]:
        nx = x + delta[0]
        ny = y + delta[1]
        if nx < 0 or nx >= len(plan[y]) or ny < 0 or ny >= len(plan):
            continue
        if plan[ny][nx] == "@":
            adjacent += 1
    return adjacent < 4


def q1(plan):
    total = 0
    for y in range(len(plan)):
        for x in range(len(plan[y])):
            if plan[y][x] != "@":
                continue
            if can_move_roll(plan, x, y):
                total += 1
    return total

def q2(plan):
    plan = [list(s) for s in plan]
    total = 0
    while True:
        moves = []
        for y in range(len(plan)):
            for x in range(len(plan[y])):
                if plan[y][x] != "@":
                    continue
                if can_move_roll(plan, x, y):
                    moves.append((x, y))
        if len(moves) == 0:
            break
        for x, y in moves:
            plan[y][x] = "."
        total += len(moves)
    return total

sample_input = """..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@."""


real_input = """@@@..@@@.@.@.@@@..@@@@@@@@@@@@@..@.....@@.@.@@@.@@@..@@@@@@@@..@..@@@@.@.@@@@@@....@@.@@.@@@@@@@@.@@@@@@@@@@@.@.@@.@@@@@@.@.@.@@...@@@@@@..
@.@@.@.....@.@@@@@.@..@.@.@@@.@.@.@..@..@@@.@@..@@@.@@....@@@@.@@@..@@..@@@@.@@@@@.@@@@.@..@@@@..@@...@@@@@.@@@@@.@...@@..@@@@@..@@@@@.@@..
@@@@..@@.....@@@@.@.@@@.@.@.@@@@@@@.@@.@@@@@.@@.@..@..@@..@@...@@@@..@@@@...@@@@.@..@.@@@.@.@@.@.@@.@@.@@@..@.@@.@@@..@.@@.@@@.@@..@@..@@@.
@.....@.@@@@@...@@@.@@@@@@@..@.@@.@.@@@@@@@@..@.@.@@@@@@.@.@@.@.@@@@@@.@..@@@.@@@..@@@..@@@@@.@.@@.@@@@.@..@.@@@..@@...@@@.@@@@@.@..@@.@.@@
@@@@.@@@@@@.@...@..@@..@@..@@.@@@@@...@@.@.@@@.@@...@@.@.@@@@..@.@@@.@.@@@@@@.@@@@@@@.@@..@@.@.@.@.@@...@@..@@@@@@@.@@..@@@@.@@@@@@.@@@@@..
@@@..@@@.@@@..@@.@@.@@@@@@.@@..@...@@.@.@@@@@@@@@@@.@@@...@@..@@.@.@.@@.@@.@@..@@@@@@@@@.@@@.@@@..@@@@@..@@@@..@@.@@@@..@.@.@@.@@@@..@@@@@@
.@@.@.@@@.@@..@@@@@.@@.@@@@..@.@@.@@@.@@...@.@..@.@@.@.@..@@.@@@.@@.@@.@@@@.@@@@@@@@...@.@.@@@@..@.@.@...@@@...@..@....@@.@@@.@@@@.@@.@@@.@
.@..@..@@@.@@.@@......@@@@@.@@@@@.@@@@.@.@@.@@@@@@..@.@.@..@.@@@@@@....@...@.@.@@.@@.@@@@@@.@@@@@.@@@@@@......@.@@@.@.@..@@@@@@@.@.......@@
@@.@@...@@..@@@.@.@.@...@..@.@@@@@@.@.@..@.@@.@.@@@..@@@@@@@@@...@.@@@@@...@@@@@@@@@..@@@@..@@@..@.@@@@.@@@@@@...@@.@@...@@@@..@..@@@@.@@@@
@@@@....@.@..@@@@.@@..@@@@@@@.@@...@.@@@..@@.@@@..@.@.@@.@@@@...@@@@..@@@.@@@..@@@@@@@.@@@@@@..@@@.@.@.@@@@.@..@.@@@@@...@@.@@@@@@.@.@@@.@@
.@@@@@@@..@.@@@@@.@.@@@@@@@@.@@.@@@@.@@@.@@@@.@@@@@.@@@.@@@@@@@..@@@@...@@@.@@.@@@..@@@@@@@.@.@...@.@@.@@.@.@@@@.@.@.@.@@@@@.@@@.@.....@@@@
@.@..@@@...@.@@@.@..@@..@@@@.@@.@@..@@@@@@@@@@@..@@.@@...@.@@@@@@@@@.@@@.@@@@@@@@@.@.@.@@@@@.@@@..@.@@@@@.@@@.@@@@@@@........@..@.@@..@@@@@
@@@...@.@.@...@@.@.@@.@..@@@@.@.@..@@.@@@.@..@..@@...@@.@...@.@@@@.@@.@@@.@.@@@@.@.@@@@@@@....@...@.@@@@..@@@.@.@.@@@.@..@@.@.@@@@.@@.@.@@@
@.@.@.@@@@@@@@.@@.@@@.@@@..@@.@@@@@..@..@@@@@@@@....@.@@.@@@.@.@.@@@.@@..@@.@.@.@@.@..@.@.@.@@@@@.@@@..@.@@..@..@@@@@@@@....@@@@@..@.@...@.
@@@@@@@@@@...@@@@@@.@..@..@.@..@@@@...@@.@.@@@@@.@@@@.@@@.@@..@.@@.@..@@@@..@@..@..@@@@@....@@.@.@@@@.@.@@...@..@@@@.@@...@@@@.......@@@@.@
.@@@..@@@@@@.@@@.@.@.@@..@@@@..@@@@@@@.@@.@@@@...@@.@@@.@@@@.@@.@.@.@@@...@@..@@@@@..@@..@.@@@.@@.@@.@@@@@@...@.@@.@.@@.@.@....@@.@@@@@.@.@
...@@.@@@@@@@.@@@@@@@@@@@@@.@.....@@@@.@@@.@@.@.@@@..@.....@@@@..@@@@@@...@@@.@..@.@..@.@.@@@@..@@@@@...@.@@@@.@@@@.@@@@.@@@.@.@@@@@.@...@@
@@@..@@@@@@@@@@.@@@@@@..@@@...@@@@@.@@@....@@@..@..@@.@..@@..@.@...@..@@.@@@.@@@@@@.@.@@@@.@....@@@@@@@@..@@@@.@@@.@@@.@@..@@@.......@..@@@
@@.@@@.@@..@.@.@@@@@.@.@@@@@..@.@@@.@@@@.....@.@@@.@@...@..@@@@.@.@@@@@@.@.@@.@@.@@@@@@@.@...@@@.@@@..@@@..@..@@..@@@@.@.@@@.@@@@@..@@..@@@
@@@.@@.@@..@@@@@@.@.@@.@@@@@@..@@.@@@..@@@@@@@.@@@@..@@@@@@.@.@@@@@@@.@@.@.@@@@@.@...@@@@.@.@.@@@@@.@..@@@.@@@@@@.@@@@@@@.@.....@@..@.@..@.
@@@.@@@@@@@@..@@@.@@@@.@@@.@@@.@@@.@@.@@@@.@@.@.@@@@@.@@@@@@@@.@@@@@.@@@@@@@@.@...@.@.@@.@@@@.@@.@@@.@@@@@@.@.@@@.@@...@@@@@@...@@.@...@.@@
@@..@@....@.@@@..@@@.@@@@.@@@@@@.@@.@.@.@@@@@.@.@@@@.@@@@@@@@@@.@..@@@@.@@@@@@@@.@.@@@@@.@@..@@@@@@@.@..@@@.@@.@.@.@.@@@@@@.@.@.@@.@@@.@..@
@@.@@@.@.@.@@..@@.@@@.@.@....@@@@@.@.@@..@..@@...@@@@@@..@..@.@@@@@.@@.@.@....@.....@@...@@@@@@@.@@@@@@@@@@@@.@@..@..@@..@@@.@@..@@.@.@.@..
@.@@@@@.@@@@@@@@@@@.@@@@.@.@@@..@.@..@.@@@..@@.@@..@.@@..@.@..@@@@@..@@@@.@.@@...@.@@@.@@@@@@@@..@.@@@@..@@@..@.@@.@.@@.@.@.@@@@@@....@...@
@@@@.@..@@@.@@.@@@@@@@@.@@@.@@@..@@..@@@.@@@.@@.@@@@@.@...@@@.@.@@.@.@.@@.@@..@..@@..@..@@@....@...@..@@@..@..@..@.@@@@@@.@.@@@.@@@@@@...@@
@.@@@@.@....@@@.@@..@@.@@@@@...@@@@@.@.@@@..@@@@.@@@@.@@.@@@.@@@@@@.@@.@@@.@@@@@@@@@@@.@..@@..@@@.@..@@@@.@@@@@@@@@@@@@@@@.@@.@@@@@.@..@@@.
@@@@@@@.@..@@@@@@@.@@.@@@@@@@.@@@.@....@@@@@@@..@@..@@@@@@.@.@@@@.@..@.@.@@.@@@..@@@@@@@@@@..@@..@@@@.@@@@..@@@@.@.@@@@@.@@..@.@@@.@@@@@@@@
@@.@.@@@.@@.@.@.@...@..@.@...@@@@@@@@..@@@.@.@@.@..@.@...@@@@.@@@....@@@@@@@@..@@@@.@@@@@@.@@@@@..@...@..@.@@.@@@@@@@..@.@@@@@@@@@@..@..@@.
@@@@.@@..@.@@@@.@..@.@@...@@@.@@....@.@.@.@..@.@@@@@.@@@@@.@@@..@@@.@@@.@@@.@@@@..@@.@.@@.@@@@@@@@.@.@@@@.@@@@@@@.@@@@.@.@@@.@@..@@@@@.@@@@
@@@@.@@@@..@@@@@@@..@@@@@@@.@@@@.@..@@..@@.@@.@@@@.@@@@@@@@.@@.@@@@@@@@.@@..@.@.@.@@@.@@@.@@@.@.@.@@.@@@@@.@@@..@..@@@..@@..@...@@.@.@@..@@
.@@@@..@@.......@@.@@@@@@@@.@@@.@@@@@@@....@.@@..@@.@@..@@@@@@...@@@@..@@@@@@@..@@@.@@.@@@...@@@...@..@@@.@.@..@..@@@@@@..@@@@@.@.@.@@@@@@.
@@@@@@...@.@@@@..@@@.@@@@@@@@.@@.@@...@.@@@@@@.@@.@@...@@.@...@@@.@@.@@@.@@@@@.@.@@@@.@@...@@...@@..@@@@.....@@@@@@..@@@@@@@@@.@.@@@@@@.@@@
@..@@.@@.@@@@@@.@@@@.@@...@@@@.@.@@@..@..@@@..@@@..@@..@.@@@@@@@@@..@@@@@@.@@.@@.@.@.@.@.@.@..@@@..@@@@@..@@@@@@@@@@@@.@.@@.@@@@@@@@...@@@.
@@@.@@@.@...@@.@@..@@..@@@@....@@@@@@....@@.@@.@@@@@.@@@...@@@@..@..@...@@@@@@@.@@.@.@@@@@.@.@..@.@@.@.@@.@@@@@@.@@@.@.@.@@@@@....@.@@@@@.@
@@@@@@@.@.@@@..@@..@@.@@@@.@..@@.@@.@@.@@@@.@@@@@.@@@@.@.@..@....@@..@@@@@@@.@@@@@@@@@@@@@........@@@@@...@@.@@@@@@@.@@@@@@..@@@@@@.@..@@.@
.@@@@..@.@@.@@@.@@...@..@.@@@@@.@@@@..@@@@@.@@@@@.@..@@@@..@..@@@.@@@.@@@.@@@..@@@.@...@.@@@.@..@.@@@@@..@.@@.@.@@@@..@@@@@@@@@@.@.@.@.@@.@
..@@@@..@.@@.@@@@@.@@..@.@..@@.@..@@@@@@.@.@..@@..@@@@.@@.@.@@@@.@.@@@.@@@@.@.@@@@@@@.@...@..@@..@@@@.@@@@@..@.@@...@@@.........@@@@@@..@@.
@@@@.@.@.@@..@.@@.@@@@@@@..@@@@@.@.@@@@.@@@.@.@@@@@@@.@@@@@.@@....@.@@@.@..@..@@@@@.@@@@@@.@@@@.@@@..@@@.@@.@@@@.@.@@@@.@@.@@..@@@@@@@@@@@@
@@@@@.@@....@@@@.@...@...@@@.@@@..@.@@@@@@@@.@@@@.@@@@.@@@@.@@@@@@@.@.@@...@.@...@...@.@@@.@@.@@..@@@@@@.@.@.@.@@..@@.@@@@@@@@@@..@...@@@@.
.@@.@..@@@@@.@..@@@@@@@.@@.@..@.@@@@@.@@@@@@@@@@@@@@@@@@.@.@@@@@@.@@@@@@@@@@@@.@@.@@@.@..@@.@@.@@@@...@.@@..@.@@@@.@@@@@.@@@.@.@.@@@..@@@@.
@@..@@....@@.@.@@.@@@@.@@@...@.@@@@@@.@@@.@@..@..@@@@@@@@@.@@@..@@@@@@@@@@.@.@.@..@@@@@@@@@@@@.@@@@@.@..@.@@.@.@@.@@@@@@.@@.@.@@@@@@@@@@@@.
.@@..@@@@.@@@@.@@.@@.@@@@.....@@@@@.@@.@.@@.@..@@.@@@@@@@@.@@@@.@.....@.@.@@..@@.@@.@@.@@@@..@@@@.@.@@@@@@@@.@@@@@@@@.@@@@@@@@@@.@@@@.@@@.@
@@@@@@@@@@.@@@@...@@..@@@@.@.@@@@.@.....@@@@.@....@.@@@@..@@@@@.@@.@...@@@@.@@@.@.@.@@@.@.@@.@@.@.@.@@@@@@@...@@.@@@..@@@@@@.@@.@..@@@.@@@@
.@@@.@@@..@@........@.@@.@@..@@.@@@@.@@......@.@.....@..@@@..@@@@@@.@....@.@.@@@...@.@@@@..@@@@@.@@@@@@@@@@.@@@@@@@@@@@@.@@.@.@@..@@@.@.@@@
..@@@@@@@.@..@@@.@@....@@.@@.@@.@@@@@@.@@@@..@@@@@@.@@@.@@@.@.@@.@@@@......@@@@..@@@@.@@@@@.@.@...@@@@@.@..@.@.@@@@@@@@@@@.@.@@.@.@@.@@@@@@
...@.@@@.@...@@@@......@@@@@@@@@.@@@.@@@@@@@.@@@.@@@..@@.@@.@@..@.@@@@@@@@@.@@@@@@.@@@@@@.@.@@.....@@.@@...@@@@@....@@@.@@@.@.@@@..@@@@..@.
...@..@..@@..@.@@.@@@@@@@@@..@@@.@@@@@@@@@@.@@@...@..@@@@@.@@@.@....@@.@.@...@.@@@@@@@@.@.@@..@@...@@..@@@..@@.@@@.@@.@@.@@@@@.@.@@..@.@@@@
@@.@@@....@@@@@@@@.@.@@@..@@.@@@@.@@@@@.@.@@@..@.@.@@.@...@.@@..@.@@@@@@@.@@.@@@@@@..@.@.@@.@@@@.@.@@@@@@@@@@@@...@@@@.@@@@@...@.@@@..@.@@@
..@.@@@.@.@..@@@.@...@@@.@@@@@@@@@@..@@@@@.@@.@@@.@@@@@@@.@..@.@@@.@....@@@@@@@@@@@.@..@@@@..@.@.@@@.@@@...@.@@.@..@@@@.@@..@@@...@.@..@@@@
@@@@@@@@@.@@@@@@@@.@@.@@@@@@..@@@..@.@.@@@@@.@@@@@.@.@@@.@@.@@@@.@.@..@@@@@.@.@.@..@@@@@@@.@@.@.@@@@.@@.@@@@...@......@.@@.@@.@@..@.@@@@@@.
.@@.@.@@@@@@...@.@@.@@.@@@@@.@@@@..@@@.@.@..@@@.@...@.@@@@@@@@@@...@.@..@..@@@@@@@.@..@@@@.@@.@..@.@@@@@@.@@@@@@@.@@@@@@...@@@.@@.@@@@@..@@
@@@.@@....@@.@.@...@..@@.@.@@.@@...@@@...@@.@@@@.@.@@@@@@@@@@.@@@@@@@@@.@..@@@@..@.@@.@@@@.@@@..@@@@@.@@@@..@..@..@@.@@@@@@@@@@@@@@.@@@.@.@
@..@@..@@..@@@@@@..@.@@.....@@..@@@...@@@@.@.@.@@@@@@.@@@@.@@....@@..@@@@@.@.@.@.@....@..@@.@@@@.@..@....@@.@.@@@@@@@@@....@@@@@@@@.@@@...@
.@@@@.@@@@@.@.@.@@@..@@@...@@.@@@@@@@@@@@.@@@@..@@.@@.@@@@@@.@@@@@.@@@.@.@@@@@@.@.@..@@@.@@@@@@@.@.@@@..@.@@@...@@@.@@..@@@.@@@...@..@.@@@@
.@.@.@@..@@.@@@.@.@@@@@@@@.@@@@@@@@@@.@.@@@.@.@@..@@..@@@.@....@@@.@@.@@@.@@@@@@@@@...@.@..@.@@@..@@.@@@.@@@.@@@.@@@@@.@.@@..@.@@..@@.@@@@.
@.@@.@.@..@@..@@@@@@@.@@.@@..@@@@@...@@@@@.@@@.@.@.@@.@.@..@@@@.@@.@@@..@.@@@@@@@@@@@@..@@@@@.@...@.@@@@.@@@@@...@@.@.@@@@@@@@..@@@@....@@.
.@@..@..@@@@@@.@@@@..@@@.@@@@@...@@.@@@.@.@...@.@.@@..@@@@@.@@.@.@...@....@...@@@.@@.@.@.@..@.@@@.@.@@..@.@.@.@@@@.@..@....@@..@@.@@@...@@.
.@@...@@.@@@.@.@@@@.@@@@@.@@.@@@...@@.@@@@.@@..@@@@....@@@..@....@.@@@.@@@@@.@.@@.@@@.@@@..@@@@@@@@@@@@..@@@.@@..@@@@@@@.@.@.@.@@@@@@@@@@@.
.@@@..@@@@..@@@@@@.@@.@..@@.@@@..@..@@.@@@@@@...@@@.@@...@@.@@.@@@.@@@@.@@@@@@@@@@.@@..@.@@@.@@@@.@@.@@@@..@@.....@@...@@@@.@..@@.@@@...@@@
@@@..@@@@..@@.@@@@@....@@@@@@.@.@...@@@@@@@@.@.@@@@@.@@.@@@.@@@@@@@@@@..@..@.@.@@..@.@.@@@@....@@@.@@.@.@@@@.@..@@.@..@..@.@@@@@@@...@@@@@.
..@@@@@@@.@@@..@@..@..@@@.@.@@.....@@.@@@@@@@.@@.@@.@@@@@@@@@@@.@@@.@..@@@@.@@@@.@..@@.@..@.@...@@.@@@@@@@@@..@@@@@@.@.@@@.@.@.@.@...@.@...
@@..@.@@@.@@@..@@.@@@@@@@@.@.@.@.@@.@.@@@@@.@@@@.@@.@@@@.....@@@@@.@...@@@..@.@@@.@@.@.@@@@.@.@.@@.@...@..@..@.@.@.@@@@@@@@@.@@@...@@@@..@.
.@@@@@..@.@@@@@@.@@@@.@@@@@@@@@@@@..@.@...@@@@.@@.@@.@@@.@@@.@.@@@..@@@..@.@@@@@@.@.@@@@@..@.@..@@@@@.@@@@@..@@@..@.@..@..@@@.@.@.@.@@....@
@@@@@...@..@.@.@@.@.@@@@@@..@@..@@@@@.@.@@@@@@.@@@@@@@..@@@@@@@@@@@@@@@.@.@@.@@@.@@.@@@.@@@.@@@..@@@@.@.@@@@.@@@.@@.@.@@.@@@@..@...@.@..@@@
....@@.@@@@@.@@@...@@@@.@@@.@.@.@.@@@.@@@.@@@@@@@@@@..@..@.@.@.@@.@@@@@@.@...@.@..@....@@@@@@@@.@.@..@@..@@@@@@@.@.@@.@@@@.@..@.@@..@@@@@..
@@@.@...@@.@@.@@.@..@@.@@@.@@@@@.@@.@@@.@@@..@@@@@.@@.@@..@@@@.@@@@@@@.@@.@@@@@...@@@@.@....@@.@@@.@..@@.@.@.@.@@@.@@.@@..@@@.@@.@@@@@@@@@.
@@.@.@@@..@.@.@@..@@@@.@@@.@..@@@..@@@.@@@@.@@.@@@@@..@...@@@@.@@@@.@@@@@...@.@@..@@..@@.@@.@.@..@@.@@.@.@...@...@..@@@.@@..@@@@@@@@@...@@@
@@@@@.@@@@.@@@..@.@.@.@@@.@@..@.@@.@.@..@@.@@.@@@@@.@.@....@.@..@@@@@.@@@@@@@@@@@.@.@@.@@@.@@@@@@@.@@.@@..@@@@@.@@@@@@.@@@..@@@.@@@.@@@@.@@
@@@@@.@.@@@.@.....@@@.@@.@@@@@..@..@@@@@.@@..@.@..@@@@.@@@@.@@....@@@.@.@@@.@...@.@@@@@@.@.@@@@@@.@@@..@.@.@@@@.@.@..@@@@@@.@@@@@@@.@.@@..@
.@@@@..@@@@.@@@@@@@@..@.@.@@@.@.@@@@..@....@...@.@@@@@@@@...@.@.@@.@@.@.@.@@..@.@@.@@@..@@..@@.@..@@.@@@@@@.@@.@@@@@.@.@@@@@.@@@.@@@@@@.@@@
@@..@@.@@.@@.@@.@.@.@@.@.@@.@@@@@.@@@....@.@.@@@@@@..@@@.@@@....@.....@@@@..@@@@@@.@.@@@@@@@@...@.@@..@@@@.@@..@..@@@@@@@@@..@@@.@@@@@@@.@@
.@@.@@@@@@@@@@@@@@@@.@...@@..@@.@@@.@.@@@@@.@@@.@@..@@..@.@.....@..@....@@@@.....@.@@.@.@@@@@@.@@@@..@@@@@...@@@@@@@..@@@.......@...@@.@@@@
@@@@.@.@@@.@@@@.@@@.@.@@@@@@@@@@@..@@@@.@.@.@.@@@@..@.@.@@@@.@@.@.@@@..@.@@.@....@.@@.@.@@...@@@.@@.@@.@@@@..@.@@@@@@.@@@..@..@@.@@..@.@@@@
.@@@.@....@@..@@@@...@@@.@..@@@@@@@.@@@@@@.@..@@@@.@@@..@@@@@@.@@...@@@.@@@@@....@@..@@...@.@@@@.@@@@@@@.@.@@@@@....@@..@.@@@@@.@.@.@@@...@
...@@@...@..@@@..@@..@@.@@.@.@@@@@.@@@@@@@@.@..@@@@@.@@@.@.@@..@@..@@...@@@@@.@@@@..@@@...@@@@@@@@@@@@.@@@@@@@@.@@@.@@@@..@@.@@...@@..@..@@
@..@.@@.@.@@.@@@.@.@.@.@@..@@@@@@.@.@@@@@@@@..@@@@.@@...@.@..@@.@.@@.@..@.@@.@@@@@@.@@@..@.@..@@.@@.@@.@..@.@@..@@@@@.@.@@@...@.@@@@@.@@.@@
@@@@..@@.@@@@@@@@@@.@.@@.@@@.@@@...@@@@@@.@@@..@@@@@@@.@@@@@.@@@@@@@.@@@.@@@@..@@@.@@@.....@@@..@@@.@..@@@@@@.@.@@....@@@.@@@..@@...@.@.@@@
..@.@.@.@..@@@@...@.@@@@@@@@.@..@@.@@@@@@@@@@...@@@@@@.@@.@@@@@@@@@@..@@@@@@.@@@@@@@@@@@.@@@@@@@.@.@.@@@@..@@@@@@.@@.@@.@@.@.@@@@@@@@..@@@@
@@..@@@@@@@@@@@@..@.@@@@@.@@@.@@@@@.@@@@..@@@.@@@.@@..@@@@.@....@@.@@..@@@@@@@@@@.@@@@@.@.@@.@@@@@@..@@@@@@.@@@@@.@@.@@.@@@..@@..@.@.@..@@.
@.@@..@.@@@@.@@@...@.@@@@@.@@@.@.@@@@.@.@@@.@@.@@@.@@@@@.@..@.@@@@@@@.@@.@.@@.@@@@.@@@@@@@.@@@@@@@@.@.@@.@@@@@@@@@@.@.@.@@.@@.@.@@@@@@@@@@@
@.@@@@@@.@@.@@@.@@@.@.@..@@@@@@.@@.@@@@@.@@@...@@@@@@@@@@@.@@..@@@@.@@.@@@@.@@@@@@@@.@@..@@@@@@..@.@@@@@@..@@@@@.@@@@@@.@..@.@.@@@.@.@@@.@@
@@@@@@@@@@.@@@@@.@@@..@.@.@.@@@@.@@@.@.@@.@..@@@.@@@@@@@.@@.@@@@@@@@@@.@..@@..@.@@@.@@@@.@@.@@@.@.@@@@@.@@@@@..@..@@@@@@@..@@@@....@.@@@..@
.@@.@..@.@.@@@@@...@@..@.@@@...@@@@@@..@@@.@@.@@@.@@@.@..@@@@.@...@@@@@.@@@@..@@.@@@.@@@@@@@@@@@@@@@@@.@.@.@@@..@...@.@@@@@.@.@@@@@@@.@.@.@
..@@@...@@.@@@@@@...@..@@@@@@@...@@@@@.@..@@@@@@@@@@@@.@@@@@.@@.@@.@@@.@.@@.....@@@....@.@@@@...@.@@@..@.@@@@..@.@@@@@@@..@@@.@.@@@@@@@.@@.
@@@@@@@@@...@@@.@@.@@..@@@@@...@.@@@..@@@..@@@.@@@@..@@.@@@@..@@@@@@@@@.@@@@.@@@@@.@@@..@@.@@@@.@@@@.....@@@@@@@@@@@.@@@..@@@@.@@.@@.@@@@@@
@.@@@@@@@@..@..@@@.@..@@..@.@@@@@@@@@@..@@@.@.@@.@@..@.@@@@.@.@@@.@@@@.@@@@.@.@@@@.@@.@@@@@@.@@.@@@.@@.@@@@.@.@@@.@@.@@@@@@.@.@@.@@@.@@.@@@
..@@.@@@.@@@@@@.@.@.@....@@...@@@.@.@@@@@.@@@@@...@@@@@@@.@@@@@.@@@.@@.@.@..@...@@@.@@@@@@.@@@@.@@@@@@@..@@@..@@@@..@@.@@..@@@@@@@@.@.@.@@.
.@.@@@@@@@@.@..@@.@@@.@@..@.@..@@@@@.@@.@....@@..@@@.@@@@.@@.@@...@@@.@@@@@@..@.@@.@@..@@@.@.@@@.@@@@@@@.@@.@@...@.@..@@..@@@@@@@..@@...@.@
@@@@@..@@@...@@.@.@@@@@@@..@@@..@@.@@..@@@@@@@@@..@@.@@@@.@...@...@..@@@.@.@@@@@@@@@@.@.@...@@..@@@@@@.@@@@@@@@@.@@@@@@@.@..@.@.@@@@@@.@@@@
@.@..@@@@@..@@@@@@..@@@..@@@.@.@@@@@@@.@..@..@.@.@@.@@@..@..@@@@..@@@.@@@@@@.@@@@@..@.@.@@@...@@@@.@@@......@@.@@@.@..@.@@@@.@..@..@@.@@@@@
@@..@@@@@@@@@@@@...@@@@@@@@@@@..@@@.@@@.@@.@@@.@@.@.@@@@.@@.@..@@@@@..@@@@@@.@....@@@@@@..@@..@@.@..@..@@@@@@@@@@..@.@@...@..@@@@@@@@....@@
@@@@@@@..@.@.@.@.@@..@@..@@.@@.@.@@@..@..@@..@.@@..@..@@@@.@@@@.@@.@@.@@@...@.@@@@@@..@@.@@@@..@.@@.@@.@.@@...@.....@.@@@....@@@@@@..@.@..@
.@.@.@@@@@@@@.@.@@@.@...@@@@@@@@.@.@@.@@@@@@@@.@@@@@..@@@@@@@.@.@.@@.@@@@@@@@@.@@@@@@@@..@.@...@.@@@@.....@@.@@@..@.@@@..@@@@@.@@@@@...@@.@
@@..@@.@@@.@.@.@@..@...@@@.@@@.@@.@..@..@@@@..@@.@@.@@@@@.@@@...@@@..@@.@....@.@.@@.@@@@@@@@@@@@...@.@@@@@@@.@..@@@.@@@.@..@@@@@@.@@@.@@.@.
....@@@@@@@@@..@.@@@@@...@.....@@..@@@..@@.@.@@..@@@@.@@.@@@@@@.@......@@.@@@@@..@.@@.@@@.@@@..@@@@..@@@@@@...@.@.@.@@..@...@@.@@@@..@@@@@.
@@@@@@@.@.@@@@@@@@.@@@...@@@@@@@@..@@...@.@@.@@.@@.@@@.@@@@@@.@.@@.@.@.@@@@.@@@...@@@@@@..@@@@@@@.@...@@@@..@...@@@@.@.@@@@@..@.@@@..@@.@.@
@.@@@...@.@@@.@@@@@.@@.@...@.@@@@@@.@@@@@@.@..@@.@@@@@@@@@@@@@@@.@@.@@@@......@.@@.@@@..@..@@@@....@@@@@@@@@@@@@.@@.@@@..@@@...@@@.@@..@@@.
@.@@@@@.@@@.@@@.@..@@@@@@@..@@@.@@@...@@.....@@@@..@..@@@.@...@@@@..@..@@@@..@..@@..@@.@.@@.@.@@@@.@.@@.@...@@@@.@@@@@.@.@.@@@@@@.@@.@@@@@@
@@@@@@@@@.@..@..@@..@@@@@@@.@@.@.@@@.@@@@.....@@@@.@@@.@@...@.@@.@@..@....@.@@@@@.@.@@@@@@@@@@@.@..@@.@@@@@@@@..@@@.@.@@.@@@@@@@@@..@@..@.@
@..@@@@@@@@.@@.@@@@@.@@@.@..@@@.@@.@@...@@@@.@@.@.@..@@.@.@@@...@@@.@@.@@.@@@@@@.@@@..@.@@.@.@@@@@...@@@@.@@@@.@.@@..@..@..@@@@.@.@.@@.@@@@
..@@.@@@@@@@@.@...@@@@@.@@@@@.@.@..@@@@@.@@@@@@@@@@.@@.@.@@@.@@.@@@@.@@.@@@.@.@@@@@@.@@@@..@.@@....@@@.@.@@.@@.@..@@@@..@.@@.@@.@...@@@@@..
@@@@@@.@@@@@@@@@@@...@@.@@@@@@@...@@@.@..@....@..@@.@.@@@@@@@@@@@.@..@@.@.@@@@@@@@...@@..@@@.@@@.@...@@@.@@@@@@..@...@.@.@@..@.@@@@@.@@@@@.
.@@@@.@@.@.@.@@@..@@@@...@@.@.@@@@.@@@..@@@.@@@@@@....@.@@@..@.@.@@@@@.@@.@.@@.@@@@@@@@..@@@.@..@.@@@..@@..@@.@@@@@.@@@@@.@.@@.@.@@.@@@.@.@
..@@@@.@.@@..@@@@@.@@@@.@.@@@@@.@.@..@.@....@@@.@@@@@@.@.@@@...@@@@.@@@..@.@@@@@.@@.@@@@...@@.@.@.@.@.@@@@.@@..@@..@@....@..@@@@@@.@.@@@.@.
.@@.@.@@.@@...@@@@@@@.@@.@.@@.@@@@@@.@.@@@..@@@@..@@@@.@.@@.@@.@@@.@....@@.@@.@@@@@@.@.@.@.@@@@@@@.@@@@@@.@@.@.@@.@...@@@.@@.@.@.@@@@..@.@.
@.@@.@@@..@@@@@@..@@@.@@..@@@..@@@@.@@@.@@@.@.@@@@@.@@@@.@@@@@.@@@.@@@@@.@@@@@.@.@@@@.@@..@.@@@@@@@.@@@@.@.@..@@@@@..@@@@.@.@.@.@@@@@@@@@@.
.@..@@.@@@@.@@..@@@@@@.....@@.@@@@.@@@@@@.@.@.@@@.@@@@@.@@@@.@@@.@@@..@.@@@.@.@.@@..@@@.@@.@@...@@@.@@@..@.@@@@@@@.@@@.@.@@@@.@@@@...@@.@@.
@@.@@@@...@@@.@@@@@@@@@@.@@..@@.@@@.@@..@.@@..@@@@@.@@@@@.@@@@@.@.@@@@@..@@@.@@..@..@.@@@..@@.@.@@@.....@.@@@@@.@@...@@@.@@@...@@.@@@@.@.@@
.@@.@@@.@@@.@@..@.@@.@.@@@.@@@..@@@.@@@..@...@@@.@@@@.@@@.@.@....@@.@.@@@@@@@@@@@@.@@@@@.@@@@.@@.@..@.@.@@@@@@.@@@@@..@@@@@@@...@@.@...@..@
.@@@..@@.@@@@@.@...@...@@@@@@.@.@.@.@@@.@.@@.@.@.@....@@@.@@.@.@..@@@@.@.@.@@@.@.@@@@.@@@@.@@@@.@.@@.@.@@@@@@@@.@@@.@.@@.@...@@@.@@@.@@@@@@
@@@@@@@..@@@....@@@@@.@@.@@.@@.@.@.@@.@@.@@@@.@@.@.@.@@@@.@..@.@@@.@..@@.@@@@@@.@@@...@..@.@...@@.@.@@..@.@.@@@.@@@.@...@.@.....@.@@@.....@
@@@.@@.@.@@@.@@@@...@@@@..@.@..@.@@@@.@.@..@@@@@@@@@@@@.@@@.@...@@.@@@.@.@@....@@.@@@@@...@.@.@@@.@@.@.@.@@.@@@..@.@@@..@@@@@@@.@.@.@.@.@.@
@@@@.@@@@@.@.@..@.@@.@@@@@@@.@@@.@..@@@@@@@@.@@..@@.@@@@@@@..@.@@.@@.@@@@@@@.@@@@@@@@@@@.@.@@...@..@..@@@@.@@@.@@@.@@@@@@@@@.@@.@.@..@@@@@.
@@@...@@@@@@.@@@@@.@.@.@@@@@.@@@@@@@.@@@@.@@.@..@.@....@@@@..@.@@@@@..@.@@@..@@.@@@@@@.@@@@@...@....@@.@@..@.@.@@....@.@..@@.@.@@@.@@..@.@@
.@@.@@@@.@.@@@.@@....@@@@@.@@@@.@@..@..@@@.@@@@@@@.@@@@......@.@@..@@.@.@@.@...@@@.@@.@.@@@@@@..@@@@@.@.@.@@@@@..@@@.@.@@@@@..@@.@@.@..@.@.
@.@@@.@@..@.@@@@.@@...@@@....@@@@..@@@.@@@@@.@@@@@@.@.@.@@@@@.@.@@@.@@...@.@@.@@.@@.@@@..@@@.@@@.@.@@...@..@.@@@.@@.@@.@.@@....@@.@@.....@@
...@..@@...@@@@@.@@.@@@@@@@@.@@@@@@.@.@.@@.@@@.@...@.@..@.@@@@.@.@@@@@@@@@@@@.@.@@@@.@@@@@@@..@@..@@.@@@@@.@@@.@@@@..@@.@@@@.@.@.@@..@@@@@.
@..@.@@@@@.@...@.@@@@@..@@@@@@@.@@@@@@@.@@@@@@@@.@@.@.@@@@..@@@@@@@..@@@@@@@@@@@@@..@@@..@.@@@@@@@@@.@@@@@..@.@.@@@@@@@@.@@@@@@@@..@@...@@@
.@@@@@@@.@@@.@.@@@.@.@.@@...@.@@.@.@@@.@@..@@@@@@@.@@..@@@@.@...@@@@.@@@@@.@@@@.@@@.@.@.@..@...@@@..@@@@@@@@@.@@.@@..@.@@@.@.@@@..@@@@.@.@.
.@.@.@...@@@.@.@@.@.@..@@.@@.@..@@@@@@@..@...@.@@@@@@.@@@.@@.@...@.@@@@.@@.@@@@.@.@.@@@.......@@@...@@@..@.@@@..@...@@@.@..@@@@.@@@@@@.@.@@
.@.@@@@@..@@@@.@.@@...@@.@@.@@@@@...@@@@@@@@.@..@@@@.@.@@.@@@@@@.@@.@.....@...@@@@@@@.@@@..@.@@.@@@@@@.@.@@@@@@@@.@@@@.@@@@@@@@...@@@@@...@
.@@.@@...@@...@@@@@..@@.@.@..@@@@@@.@@@..@.@.@@@@.@@@..@@@@@@@@@@@..@@@@@@@@@@@@@@@.@@@.@@@@@@..@@.@.@@@@@@@@.@@@@@.@@.@@@.@.@@@@.@@@.@@.@.
@@@@@@@@@@@.@@...@@..@.....@@@@@@@@..@..@..@@@@@@....@.@@.@@@..@@@@@@@@@.@@.....@@.@@...@.@...@....@@@@@@@.@@@...@@.@...@@.@.@@@@@.@@@@...@
@.@@.@@..@@@@.@@.@@@...@@@@@@@@@@.@.@@@..@@...@@...@....@@@@..@.@@@..@.@@@@..@@@@@@@@@@@@.@@.@.@.@.@@..@@..@@@@..@.@@@.@@..@.@@.@@@@...@@@@
@@.@@@@.@.@@.@@.@@@@@..@.....@@@@@@.@@@@.@@...@@@@@.@@@@@.@.@@@@..@..@...@@.@@@@@@@@@..@..@.@..@@.@.@@@@.@.@@.@@.@.@@@.....@.@@@@.@@@@@.@@.
@@@...@.@@..@@@.@@.@@@@.@..@..@.@@@@@@.@@@@..@.@@@.@....@@.@@.@@@@@.@.@...@...@.@@@....@@@...@@.@@@@@@@.@@.@@@.@@@@@@@.@@@.@.@@@..@.@@...@@
@.@@@@@@@@@..@@@@@@..@@@@.@@.@.@@@..@.@.@...@@@@@@.@@@..@.@@@@..@@@@@@@.....@@@@.@@.@@.@.@@@@.@....@@.@@@.@.@@.@.@.@.@@@..@@.@...@.@@..@@.@
@@@@@@@..@.@@@@.@@..@@.@.@@@..@.@@...@@.@@.@@@@.@.@@...@@@.@@@@@@@..@@..@.@@@.@@@@@.@@@@@.@.@@.@@@.@@@...@@..@@@@@@@@@..@@@@..@@@@@@.@@@.@@
..@.@@@@@@@@@@.@..@@...@....@@@.@.@@...@@@@@@.@.@@@@@@@@@@.@.@@@@@.@@@@.@@@@.@@..@@.@...@..@@...@@@.@.@..@@.@@@.@.@@@@.@@@@..@@@@.@....@@@@
@@@.@.@.@@.@.@.@@@...@@@@@@@@.....@@@@.@@@@@...@..@@.@@.@@@...@..@@@.@@@@@..@@@.@..@.@@@@..@@@.@...@@..@.@@@@@.@@.@@..@@@.@@@@@@@.@@@@@@@.@
@.@..@@....@@.@@.@.@.@@@@@..@@@@@.@@@...@@@@@.@@..@@.@@@.@...@.@.@@@@..@@.@.@@@@@..@..@@@@@@@@@@@@@.@@@@..@.@@.@.@@@@@.@.@@@..@@@@@@@.@@@@.
...@.@@@@@.@@@@@@.@@@@.@@@..@@.@@@.@@@..@@@@@@@.@@...@.@..@@@@.@@@.@@.@@@.@..@..@@.@@@.@@@..@@.@@@.@@..@@.@@...@........@@...@@@@@@@@@.@@.@
.@..@@@..@..@@@@...@@..@@...@@@..@.@@.@@@.@@@@@@@@@@.@@@@@..@..@@@@.@@@.@@@@.@@.@..@@@@@..@@@@@..@@@@.@@..@.@.@.@@@@@...@@@@@@.@.@.@@@@@.@.
@@@.@.@@.@@@@....@.@@..@@.@@@@@.@.@@..@@@..@@.@@.@.@.@@.@@.@@@.@.@@.@.@@@@.@@@@@@@..@@..@@.@@@@@@@...@@.@.@.@...@..@@@.@@..@@@..@@.@@@@.@@@
@@.@@.@@.@......@@.@@.@.@@@.@@@@.@@@@@@@@.@@@.@@@..@@..@@@@@..@.@@@@...@.@@@@@@@@@@.@@...@@.@@.@.@@..@@@@..@.@.@...@..@@@@@.@@@.@.@.@@@...@
@@.@@@@@@@@@@.@@@@.@@@@..@@.@@@.@@@.@@...@@@.@@..@..@.@..@..@.@@@....@@..@@.@@@@@@......@@@..@...@@.@@@@..@@@..@.@.@@@.@@@@@@@.@@..@.@@@@@.
@@@.@@..@@@.@@@@.@.@.@@.@@@..@..@@@@@...@@@@@.@@@@@.@@..@..@@@@.@@@@.@@@@@..@..@@@@@@@....@@@@@.@...@@@@@@@@@@@@..@@@@@.@..@@@...@@@.@..@@.
.@....@.@@@@@@.@@.@@..@@@.@@@@.@@@@@@@@.@@..@@@@@@@..@.@@..@@.@....@.@.@...@@@..@@....@@@@@.....@@@@@@@@@@@@@.@@@@@.@..@.@.@..@@@@@@@@@.@@.
.@@@@.@@@@.@@@.@@@@@.@..@@@.@@@@@@@@@..@.@@@..@@@@@@.@.@@..@@@.@@.@@.@...@..@@@@@@@.@@@@@.@.@@.@@.....@@@@@....@@.@@.@@@@.@.@@@@@..@@@@.@@@"""


print(q1(sample_input.splitlines()))
print(q1(real_input.splitlines()))

print(q2(sample_input.splitlines()))
print(q2(real_input.splitlines()))
